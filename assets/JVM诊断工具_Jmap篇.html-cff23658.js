import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{o as i,c as a,f as e}from"./app-b5233593.js";const r={},t=e('<h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p>一方面是获取dump文件（堆转储快照文件，二进制文件），它还可以获取目标Java进程的内存相关信息，包括Java堆各区域的使用情况、堆中对象的统计信息、类加载信息等</p><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试" aria-hidden="true">#</a> 测试</h2><p>（图片资源放上去速度慢，待完善）</p><h2 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法" aria-hidden="true">#</a> 基本用法</h2><h3 id="相关命令" tabindex="-1"><a class="header-anchor" href="#相关命令" aria-hidden="true">#</a> 相关命令</h3><ul><li><p>-dump</p><ul><li>生成java堆转储快照：dump文件</li><li>特别的：-dump:live只保存堆中的存活对象</li></ul></li><li><p>-heap</p><ul><li>输出堆中对象的统计信息，包括类、实例数量和合计容量</li><li>特别的：-histo:live只统计堆中的存活对象</li></ul></li><li><p>-permstat</p><ul><li>以ClassLoader为统计口径输出永久代的内容状态信息</li><li>仅linux/solaris平台有效</li></ul></li><li><p>-finalizerinfo</p><ul><li>显示在F-Queue中等待Finalizer线程执行finalize方法的对象</li><li>仅linux/solaris平台有效</li></ul></li><li><p>-F</p><ul><li>当虚拟机进程对-dump选项没有任何响应时，可使用此选项强制执行生成dump文件</li><li>​仅linux/solaris平台有效</li></ul></li><li><p>-h | -help</p><ul><li>jmap工具使用的帮助命令</li></ul></li><li><p>-J&lt;&quot;flag&quot;&gt;</p><ul><li>传递参数给jmap启动的jvm</li></ul></li></ul><h3 id="用法1-导出内存映像文件" tabindex="-1"><a class="header-anchor" href="#用法1-导出内存映像文件" aria-hidden="true">#</a> 用法1：导出内存映像文件</h3><ul><li>手动的方式 <ul><li>jmap -dump:format=b,file=&lt;&quot;filename.hprof&quot;&gt; &lt;&quot;pid&quot;&gt;</li><li>jmap -dump:live,format=b,file=&lt;&quot;filename.hprof&quot;&gt; &lt;&quot;pid&quot;&gt;</li></ul></li><li>自动的方式 <ul><li>-XX:+HeapDumpOnOutOfMemoryError</li><li>-XX:HeapDumpPath=&lt;&quot;filename.hprof&quot;&gt;</li></ul></li></ul><h3 id="用法2-显示堆内存相关信息" tabindex="-1"><a class="header-anchor" href="#用法2-显示堆内存相关信息" aria-hidden="true">#</a> 用法2：显示堆内存相关信息</h3><ul><li>jmap -heap pid</li><li>jmap -histo pid</li></ul><h3 id="用法3-其他作用" tabindex="-1"><a class="header-anchor" href="#用法3-其他作用" aria-hidden="true">#</a> 用法3：其他作用</h3><ul><li>jmap -permstat pid：查看系统的ClassLoader信息</li><li>jmap -finalizerinfo：查看堆积在finalizer队列中的对象</li></ul>',13),u=[t];function p(d,h){return i(),a("div",null,u)}const s=l(r,[["render",p],["__file","JVM诊断工具_Jmap篇.html.vue"]]);export{s as default};
